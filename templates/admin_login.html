<!-- templates/admin_login.html -->
{% extends "base_admin.html" %}
{% block title %}SchulzeVote Admin · Login{% endblock %}

{% block content %}
  <h1>Entrar no Painel do Administrador</h1>
  <p class="muted">Informe sua chave de administrador para acessar o painel.</p>

  <div class="card">
    <form method="POST" class="row" style="gap:12px; align-items:flex-end">
      <div style="display:flex; flex-direction:column; gap:6px; min-width:260px">
        <label for="secret">Chave de administrador</label>
        <input id="secret" name="secret" type="password" placeholder="Cole sua chave aqui" required>
        <a href="#" class="btn ghost" onclick="
          const i=document.getElementById('secret');
          i.type = (i.type==='password' ? 'text' : 'password');
          this.blur();
          return false;
        ">ver chave</a>
      </div>
      <button class="btn accent" type="submit">Entrar</button>
    </form>
  </div>

  <div class="row" style="margin-top:16px">
    {% if request.args.get('secret') %}
      <a class="btn" href="/admin/?secret={{ request.args.get('secret')|urlencode }}">Voltar ao painel inicial</a>
    {% else %}
      <a class="btn" href="/">Voltar ao início</a>
    {% endif %}
  </div>
{% endblock %}
