{% extends "base_admin.html" %}
{% block title %}SchulzeVote Admin · Painel{% endblock %}

{% block content %}
  <h1>Painel do Administrador</h1>
  <p class="muted">Atalhos rápidos de administração.</p>

  <div class="card">
    <div class="row admin-links">
      {# Propaga o ?secret= via Jinja; se não vier na URL, os links funcionam sem secret #}
      {% set secret = request.args.get('secret','') %}
      <a class="btn" href="/admin/candidates{% if secret %}?secret={{ secret|urlencode }}{% endif %}">Candidatos & prazo</a>
      <a class="btn" href="/admin/election_meta{% if secret %}?secret={{ secret|urlencode }}{% endif %}">Metadados da votação</a>
      <a class="btn" href="/admin/assign_ui{% if secret %}?secret={{ secret|urlencode }}{% endif %}">Atribuir chaves (UI)</a>
      <a class="btn" href="/admin/audit_preview{% if secret %}?secret={{ secret|urlencode }}{% endif %}">Auditoria (preview)</a>
    </div>
  </div>

  <div class="card">
    <h3 style="margin:0 0 8px 0">Saída</h3>
    <p class="muted">Você pode sair e manter o secret na URL para voltar rápido depois.</p>
    <div class="row">
      <a class="btn ghost" href="/admin/logout{% if secret %}?secret={{ secret|urlencode }}{% endif %}">Sair</a>
      <a class="btn" href="/{% if secret %}?secret={{ secret|urlencode }}{% endif %}">Ir para o site público</a>
    </div>
  </div>
{% endblock %}
