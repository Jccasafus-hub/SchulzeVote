{% extends "base_admin.html" %}

{% block title %}Admin · Candidatos & Prazo{% endblock %}

{% block content %}
  <h1>Admin · Candidatos &amp; Prazo</h1>

  {% if msg %}<p style="color:#10b981;margin:.5rem 0 0">{{ msg }}</p>{% endif %}
  {% if warn %}<p style="color:#f59e0b;margin:.5rem 0 0">{{ warn }}</p>{% endif %}

  <div class="card" style="margin-top:12px">
    <form method="POST">
      <input type="hidden" name="action" value="save_candidates">
      <p><b>Candidatos</b> (um por linha;
        <i>{{ RESERVED_BLANK }}</i>/<i>{{ RESERVED_NULL }}</i> são fixos no fim):</p>
      <textarea name="lista" style="width:100%;min-height:220px">{{ core_text }}</textarea><br><br>
      <button class="btn accent">Salvar candidatos</button>
    </form>
  </div>

  <div class="card">
    <h2>Prazo de votação</h2>
    <div style="margin:.5rem 0 1rem">
      {{ deadline_html|safe }}
    </div>

    <form method="POST" class="row" style="gap:12px;align-items:flex-end">
      <input type="hidden" name="action" value="set_deadline">
      <label>Data<br><input type="date" name="date"></label>
      <label>Hora<br><input type="time" name="time"></label>
      <label>Fuso<br>
        <select name="tz">
          <option>America/Sao_Paulo</option>
          <option>America/Bahia</option>
          <option>America/Fortaleza</option>
          <option>America/Recife</option>
          <option>America/Maceio</option>
          <option>America/Manaus</option>
          <option>America/Belem</option>
          <option>America/Boa_Vista</option>
          <option>America/Porto_Velho</option>
          <option>America/Cuiaba</option>
          <option>America/Campo_Grande</option>
          <option>America/Noronha</option>
          <option>UTC</option>
        </select>
      </label>
      <button class="btn accent" type="submit">Definir prazo</button>
    </form>

    <form method="POST" style="margin-top:10px">
      <input type="hidden" name="action" value="clear_deadline">
      <button class="btn danger" type="submit">Limpar prazo</button>
    </form>
  </div>
{% endblock %}
